import * as tslib_1 from "tslib";
import { Highcharts } from './highcharts';
import { Directive, Input, ElementRef } from '@angular/core';
import { Chart } from './chart';
var ChartDirective = (function () {
    /**
     * @param {?} el
     */
    function ChartDirective(el) {
        this.el = el;
    }
    /**
     * @return {?}
     */
    ChartDirective.prototype.ngAfterViewInit = function () {
        this.init();
    };
    /**
     * @return {?}
     */
    ChartDirective.prototype.ngOnDestroy = function () {
        this.destroy();
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    ChartDirective.prototype.ngOnChanges = function (changes) {
        if (!changes['chart'].isFirstChange()) {
            this.destroy();
            this.init();
        }
    };
    /**
     * @return {?}
     */
    ChartDirective.prototype.init = function () {
        if (this.chart instanceof Chart) {
            this.chart.ref = Highcharts.chart(this.el.nativeElement, this.chart.options);
        }
    };
    /**
     * @return {?}
     */
    ChartDirective.prototype.destroy = function () {
        if (this.chart && this.chart.ref) {
            this.chart.ref.destroy();
            delete this.chart.ref;
        }
    };
    return ChartDirective;
}());
tslib_1.__decorate([
    Input(),
    tslib_1.__metadata("design:type", Chart)
], ChartDirective.prototype, "chart", void 0);
ChartDirective = tslib_1.__decorate([
    Directive({
        selector: '[chart]'
    }),
    tslib_1.__metadata("design:paramtypes", [ElementRef])
], ChartDirective);
export { ChartDirective };
function ChartDirective_tsickle_Closure_declarations() {
    /** @type {?} */
    ChartDirective.prototype.chart;
}
